@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Newtonsoft.Json
@{
    ViewData["Title"] = "Login Page";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>@ViewData["Title"] - Shafa Al-Firdaus</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="~/assets/vendors/feather/feather.css" />
    <link rel="stylesheet" href="~/assets/vendors/mdi/css/materialdesignicons.min.css" />
    <link rel="stylesheet" href="~/assets/vendors/ti-icons/css/themify-icons.css" />
    <link rel="stylesheet" href="~/assets/vendors/typicons/typicons.css" />
    <link rel="stylesheet" href="~/assets/vendors/simple-line-icons/css/simple-line-icons.css" />
    <link rel="stylesheet" href="~/assets/vendors/css/vendor.bundle.base.css" />
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="~/assets/css/vertical-layout-light/style.css" />
    <link rel="stylesheet" href="~/assets/css/vertical-layout-light/dashboard.css" />
    <!-- <link rel="stylesheet" href="css/index.css" /> -->
    <!-- endinject -->
    <link rel="shortcut icon" href="~/assets/images/logo-shafa.svg" />

    <!-- plugins:js -->
    <script src="~/assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="~/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="~/assets/js/off-canvas.js"></script>
    <script src="~/assets/js/hoverable-collapse.js"></script>
    <script src="~/assets/js/template.js"></script>
    <script src="~/assets/js/settings.js"></script>
    <script src="~/assets/js/todolist.js"></script>
    <!-- endinject -->

    <script src="https://momentjs.com/downloads/moment.js"></script>

</head>

<body class="dashboard-page" style="background-image: url('assets/images/Polytechnic-Astra-2.jpeg');">
    <div class="container-scroller">
        <div class="container-fluid page-body-wrapper full-page-wrapper">
            <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-center flex-row bg-transparent">
                <div class="navbar-dashboard d-flex align-items-top">
                    <ul class="navbar-nav">
                        <li class="nav-item font-weight-semibold d-none d-lg-block ms-0">
                            <a asp-controller="Login" asp-action="Index" data-toggle="tooltip" data-placement="top" title="Masuk">
                                <img src="~/assets/images/logo-asy-syabab.png" alt="Logo Asy-Syabab" class="logo-asy-syabab" />
                            </a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto me-auto">
                        <li class="nav-item d-none d-lg-block ms-0">
                            <h1 class="title-asy-syabab">Masjid Asy-Syabab</h1>
                        </li>
                        <li class="nav-item">
                            <h3 class="title-asy-syabab">Politeknik Astra</h3>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item font-weight-semibold d-none d-lg-block me-0">
                            <a asp-controller="Login" asp-action="Index">
                                <img src="~/assets/images/logo-shafa.png" alt="Logo Shafa Al-Firdaus" class="logo-shafa" />
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- content-wrapper ends -->
            <!-- partial -->
            <div class="main-panel-dashboard">
                <div class="dashboard-wrapper">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="home-tab">
                                <div id="carouselDashboard" class="carousel slide carousel-fade" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        <!-- Jadwal Shalat -->
                                        <div class="carousel-item jadwal-shalat active" data-bs-interval="10000">
                                            <h2 class="title-jadwal">Jadwal Shalat</h2>
                                            <div class="container d-flex p-0 align-items-center flex-row">
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-imsak">Imsak</h5>
                                                        <p class="card-text" id="time-imsak"></p>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-subuh">Subuh</h5>
                                                        <p class="card-text" id="time-subuh"></p>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-terbit">Terbit</h5>
                                                        <p class="card-text" id="time-terbit"></p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="container d-flex p-0 align-items-center flex-row container-jadwal">
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-dzuhur">Dzuhur</h5>
                                                        <p class="card-text" id="time-dzuhur"></p>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-shalat " style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-ashar">Ashar</h5>
                                                        <p class="card-text" id="time-ashar"></p>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-maghrib">Maghrib</h5>
                                                        <p class="card-text" id="time-maghrib"></p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="container d-flex p-0 align-items-center flex-row container-jadwal">
                                                <div class="card card-jadwal card-jadwal-shalat" style="width: 18rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title" id="title-isya">Isya</h5>
                                                        <p class="card-text" id="time-isya"></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Jadwal Petugas  -->
                                        <div class="carousel-item jadwal-petugas" data-bs-interval="10000">
                                            <h2 class="title-jadwal">Jadwal Petugas</h2>
                                            <div class="container d-flex p-0 align-items-center flex-row container-jadwal">
                                                <div class="card card-jadwal card-jadwal-petugas" style="width: 18rem">
                                                    <div class="card-body">
                                                        <div class="my-auto">
                                                            <img src="~/assets/icons/wired-lineal-target.gif" alt="" class="icon-jadwal-petugas" />
                                                        </div>
                                                        <div class="jadwal-body">
                                                            <h5 class="card-title">Subuh</h5>
                                                            <p class="card-text">04:14</p>
                                                            <div class="sidebar-divider jadwal-divider"></div>
                                                            <h5 class="card-title card-title-tugas">Adzan - Iqamah</h5>
                                                            <p class="card-text nama-petugas">Muhammad Naufal Maulana Iskandar</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-petugas" style="width: 18rem">
                                                    <div class="card-body">
                                                        <div class="my-auto">
                                                            <img src="~/assets/icons/wired-lineal-target.gif" alt="" class="icon-jadwal-petugas" />
                                                        </div>
                                                        <div class="jadwal-body">
                                                            <h5 class="card-title">Subuh</h5>
                                                            <p class="card-text">04:14</p>
                                                            <div class="sidebar-divider jadwal-divider"></div>
                                                            <h5 class="card-title card-title-tugas">Adzan</h5>
                                                            <p class="card-text nama-petugas">Maulana Iskandar</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-petugas" style="width: 18rem">
                                                    <div class="card-body">
                                                        <div class="my-auto">
                                                            <img src="~/assets/icons/wired-lineal-target.gif" alt="" class="icon-jadwal-petugas" />
                                                        </div>
                                                        <div class="jadwal-body">
                                                            <h5 class="card-title">Subuh</h5>
                                                            <p class="card-text">04:14</p>
                                                            <div class="sidebar-divider jadwal-divider"></div>
                                                            <h5 class="card-title card-title-tugas">Adzan</h5>
                                                            <p class="card-text nama-petugas">Maulana Iskandar</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="container d-flex p-0 align-items-center flex-row container-jadwal">
                                                <div class="card card-jadwal card-jadwal-petugas" style="width: 18rem">
                                                    <div class="card-body">
                                                        <div class="my-auto">
                                                            <img src="~/assets/icons/wired-lineal-target.gif" alt="" class="icon-jadwal-petugas" />
                                                        </div>
                                                        <div class="jadwal-body">
                                                            <h5 class="card-title">Subuh</h5>
                                                            <p class="card-text">04:14</p>
                                                            <div class="sidebar-divider jadwal-divider"></div>
                                                            <h5 class="card-title card-title-tugas">Adzan</h5>
                                                            <p class="card-text nama-petugas">Maulana Iskandar</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card card-jadwal card-jadwal-petugas" style="width: 18rem">
                                                    <div class="card-body">
                                                        <div class="my-auto">
                                                            <img src="~/assets/icons/wired-lineal-target.gif" alt="" class="icon-jadwal-petugas" />
                                                        </div>
                                                        <div class="jadwal-body">
                                                            <h5 class="card-title">Subuh</h5>
                                                            <p class="card-text">04:14</p>
                                                            <div class="sidebar-divider jadwal-divider"></div>
                                                            <h5 class="card-title card-title-tugas">Adzan</h5>
                                                            <p class="card-text nama-petugas" id="nama-petugas">Iskandar</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Pengumuman  -->
                                        <div class="carousel-item pengumuman" data-bs-interval="10000">
                                            <h2 class="title-jadwal">Pengumuman</h2>
                                            <div class="container d-flex p-0 align-items-center flex-row">
                                                <div class="card card-jadwal card-pengumuman" style="width: 75rem">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Informasi</h5>
                                                        <p class="card-text">
                                                            Star Admin2 is a responsive HTML template that is based on the CSS framework Bootstrap 5 and it is built with Sass. Sass compiler makes it easier to code and customize. If you are unfamiliar with Bootstrap or Sass, visit their website and read through the documentation. All of Bootstrap components have been modified to fit the style of Star Admin2 and provide a consistent look throughout the template.
                                                            Before you start working with the template, we suggest you go through the pages that are bundled with the theme. Most of the template example pages contain quick tips on how to create or use a component which can be really helpful when you need to create something on the fly.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselDashboard" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carouselDashboard" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="home-tab">
                                <div class="card card-running-text">
                                    <div class="card-body">
                                        <marquee class="card-text " behavior="scroll" direction="left">
                                            Here is some scrolling text... right to left!
                                            Star Admin2 is a responsive HTML template that is based on the CSS framework Bootstrap 5 and it is built with Sass. Sass compiler makes it easier to code and customize. If you are unfamiliar with Bootstrap or Sass, visit their website and read through the documentation. All of Bootstrap components have been modified to fit the style of Star Admin2 and provide a consistent look throughout the template.
                                            Before you start working with the template, we suggest you go through the pages that are bundled with the theme. Most of the template example pages contain quick tips on how to create or use a component which can be really helpful when you need to create something on the fly.
                                        </marquee>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row w-100 mx-0">
                        <div class="school-address d-sm-flex justify-content-center ">
                            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">
                                Jalan Gaharu Blok F No. 1, Kawasan Delta Silicon 2, Lippo Cikarang, Cibatu, Cikarang Selatan
                            </span>
                        </div>
                    </div>
                    <div class="row w-100 mx-0">
                        <footer class="footer footer-dashboard">
                            <div class="d-sm-flex justify-content-center ">
                                <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Copyright © @DateTime.Now.Year. DKM Masjid Asy-Syabab.</span>
                            </div>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
        <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <script>
        loadJadwalShalatFromContoller();

        function loadJadwalShalatFromContoller() {
            var jadwalString = '@JsonConvert.SerializeObject(ViewBag.Jadwal)';

            // Ganti HTML entities kembali ke karakter aslinya
            var jadwal = JSON.parse(jadwalString.replace(/&quot;/g, '"'));

            var imsak = document.getElementById('time-imsak');
            var subuh = document.getElementById('time-subuh');
            var terbit = document.getElementById('time-terbit');
            var dzuhur = document.getElementById('time-dzuhur');
            var ashar = document.getElementById('time-ashar');
            var maghrib = document.getElementById('time-maghrib');
            var isya = document.getElementById('time-isya');

            var list = jadwal.data;

            var targetDate = moment().format('D-MM-YYYY');


            console.log(targetDate);
            
            var targetData = null;

            list.forEach(function (item) {
                var itemDate = item.date.gregorian.date;

                if (itemDate === targetDate) {
                    targetData = item;
                }
            });
            
            // Contoh: Menambahkan teks ke dalam elemen dengan ID "time-imsak"
            imsak.textContent = targetData.timings.Imsak.replace("(WIB)", "WIB");
            subuh.textContent = targetData.timings.Fajr.replace("(WIB)", "WIB");
            terbit.textContent = targetData.timings.Sunrise.replace("(WIB)", "WIB");
            dzuhur.textContent = targetData.timings.Dhuhr.replace("(WIB)", "WIB");
            ashar.textContent = targetData.timings.Asr.replace("(WIB)", "WIB");
            maghrib.textContent = targetData.timings.Maghrib.replace("(WIB)", "WIB");
            isya.textContent = targetData.timings.Isha.replace("(WIB)", "WIB");
        }
    </script>

</body>
</html>
